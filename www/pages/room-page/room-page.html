<ion-view id="roomPage" view-title="{{vm.pageTitle}}">
  <ion-content>
    <div ng-click="vm.returnToRooms()" class="return-button">
      חזור
    </div>

    <ion-list>
      <ion-item class="item-remove-animate item-avatar item-icon-right vertical-center user-item"
                ng-repeat="user in vm.users" ng-class="{'isMe': user.isMe, 'isNotMe': !user.isMe}">
        <div class="row">
          <div class="col col-40">
            <h2 ng-class="{'current-player-turn': user.currentUser}" ng-show="!user.isMe">
              {{user.name}}
            </h2>
            <h2 ng-class="{'current-player-turn': user.currentUser}" ng-show="user.isMe">
              Me
            </h2>
          </div>
          <div class="col col-60" ng-show="!vm.showUsersCubes && user.gambleTimes != null && user.gambleCube != null">
            <label ng-class="{'last-player-turn': user.lastUser}">
              הימור:
              {{user.gambleTimes}}
              פעמים
              {{user.gambleCube}}
            </label>
          </div>
          <div class="col-90">
            <span ng-repeat="cube in user.cubes" ng-show="vm.showUsersCubes">
              <img style="height: 40px; width: 40px; margin: 5px" ng-src="{{vm.getCubeImage(cube.cubeNum)}}" />
            </span>
          </div>
        </div>
      </ion-item>
    </ion-list>

    <!--WRAPPER-->
    <div style="bottom: 0; width: 100%; background-color: #0c60ee;text-align: center; position: absolute"
         ng-show="!vm.showUsersCubes">

      <!--USER CUBES-->
      <span ng-repeat="cube in vm.myPlayer.cubes">
        <img style="height: 40px; width: 40px; margin: 5px" ng-src="{{vm.getCubeImage(cube.cubeNum)}}" />
      </span>
      <br/>

      <!--GAMBLING-->
      <div ng-show="vm.isMyTurn" class="row vertical-center no-padding">
        <div class="col col-20" style="color: white; font-size: 20px">
          <div class="col" ng-click="vm.increaseTimes()">
            <i class="ion-chevron-up"></i>
          </div>
          {{vm.getGambleTimes()}}
          <div class="col" ng-click="vm.decreaseTimes()" ng-class="{'opacity-05': !vm.canDecreaseTimes()}">
            <i class="ion-chevron-down"></i>
          </div>
        </div>
        <div class="col col-20" style="color: white; font-size: 20px">
          פעמים
        </div>
        <div class="col col-20" style="color: white; font-size: 20px">
          <div class="col" ng-click="vm.increaseCube()">
            <i class="ion-chevron-up"></i>
          </div>
          {{vm.getGambleCube()}}
          <div class="col" ng-click="vm.decreaseCube()" ng-class="{'opacity-05': !vm.canDecreaseCube()}">
            <i class="ion-chevron-down"></i>
          </div>
        </div>
        <button class="col col-34 button button-balanced" ng-click="vm.setGamble(vm.gambleTimes, vm.gambleCube, false)">
          שלח הימור
        </button>
      </div>

      <!--LAYING-->
      <button ng-show="vm.isMyTurn && vm.room.lastGambleCube != null && vm.room.lastGambleTimes != null" style="margin: 10px"
              class="button button-assertive no-padding"
              ng-click="vm.setGamble(null, null, true)">
        שקר!
      </button>

      <!--REFRESH-->
      <button ng-show="vm.showRefreshButton" style="    margin: 5px;
    position: absolute;
    bottom: 0;
    left: 0;" class="button button-energized no-padding" ng-click="vm.getGame()">
        רענן
      </button>

    </div>
  </ion-content>
</ion-view>
